# Quartz TODO list

### Core

- ✅ Update build
   - ✅ Add wayland protocol generation python script
   - ✅ Move to CMake project
   - ✅ Build wlroots separately / use system package
   - ✅ Convert to C++
- ✅ Avoid direct XWayland integration for now
   - ✅ Remove/disable broken XWayland code
   - ✅ Set environment variables (only for some applications)
      - ✅ ELECTRON_OZONE_PLATFORM_HINT="auto"
      - ✅ SDL_VIDEO_DRIVER="wayland"
- ✅ Basic shortcuts
   - ✅ Add "spawn" helper
   - ✅ Switch MOD between Super/Alt if running standalone/nested
   - ✅ MOD + T = Launching konsole
   - ✅ MOD + D = Launching fuzzel/wofi
   - ✅ MOD + Q = Closing focused window
- ✅ Compositor authority for move/size
   - ✅ MOD + LeftClick  - Move
   - ✅ MOD + RightClick - Size
   - ✅ Remove client requested move/size operations
- ✅ Enable viewporter protocol
- ✅ Ensure that xwayland-satellite is sufficient for running Steam
- ✅ Add drag'n'drop support (required for browser tab dragging functionality)
- ✅ Fullscreen support
- Minimal multi display configuration
   - Add wayland output spawning for multi-window testing

### Bugs

- Minecraft, GIMP
   - [wayland] Data too big for buffer (X + Y > 4096)<br>
     [wayland] error in client communication (pid Z)
- Minecraft, SDL3+Vulkan
   - Extremely laggy resizing

### Additional

- ️Window zone snapping logic
- Add decoration manager to tell clients to prefer server side decorations
- Add pointer constraint protocol
   - Add shortcut to grab all input back from any clients and ignore any constraints
- Add layer shell protocol
- Media control keybinds
- Numlock default state
- Window list/search/cycling
- Output management
   - Dynamic output removal/creation/configuration
   - Output scaling
   - wlr_output_configuration_v1 protocol?

### Portals

- File chooser
- Screencast portal
- Screenshotting
- Application theming

### Code cleanup

- ✅ Use new/delete instead of calloc/free
- Replace wl_list/wl_array with standard containers
- Replace wl_container_of with explicitly typed helper
- Prefer `auto` everywhere
- Rename structures and drop `struct` prefix?
- Unified C++ format based logging
