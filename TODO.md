### Completed

- ✅ Update build
   - ✅ Add wayland protocol generation python script
   - ✅ Move to CMake project
   - ✅ Build wlroots separately / use system package
   - ✅ Convert to C++
- ✅ Basic shortcuts
   - ✅ Add "spawn" helper
   - ✅ Switch MOD between Super/Alt if running standalone/nested
   - ✅ MOD + T = Launching konsole
   - ✅ MOD + D = Launching fuzzel/wofi
   - ✅ MOD + Q = Closing focused window
- ✅ Compositor authority for move/size
   - ✅ MOD + LeftClick  - Move
   - ✅ MOD + RightClick - Size
   - ✅ Remove client requested move/size operations
- ✅ Enable viewporter protocol
- ✅ Ensure that xwayland-satellite is sufficient for running Steam
- ✅ Add drag support
   - ✅ Add drag icon/source support
   - ✅ Send mouse events to last clicked window when pressed
- ✅ Fullscreen support
- ️✅ Basic window zone snapping logic
- ✅ Server decorations
   - ✅ Add decoration manager to tell clients to prefer server side decorations
   - ✅ Add thin border around windows
- ✅ Minimal multi display configuration
- ✅ Improved pointer handling
   - ✅ Add pointer constraint protocol
   - ✅ Relative cursor motion protocol
   - ✅ Cursor hiding
- ✅ Add XWayland integration
   - ✅ Cursor size difference over X11 windows
- ✅ Shell layers
   - ✅ Add multiple strata levels
   - ✅ Add layer shell protocol
   - ✅ Ensure layer surface popups open on top/overlay surface
- ✅ Tidy up border handling
   - ✅ Pixel-perfect position/size calculations for zones (would be able to use `wlr_box` for zone calculations and drop custom `Box` type)
- ✅ Track mouse button press state individually instead of using single global counter (which will become desynced on skipped input events)
- ✅ Prevent clients from hiding the cursor unless they have keyboard focus
- ✅ xdg-activation
- ✅ Spawn child clients in center of parent
- ✅ Compositor initiated fullscreen toggle
- ✅ Throttle resize requests
- ✅ Shortcut to grab all input back from any clients and ignore any constraints
- ✅ Media control keybinds
- ✅ Improved window list/search/cycling
   - ✅ MOD + MouseScroll - Cycle through toplevels under mouse cursor
- ✅ Screen casting
- ✅ Bottom layer shell elements should be behind fullscreen applications when fullscreen app is on top and focused, but above otherwise
- ✅ Position toplevels from anchor point - no juddering when resizing
- ✅ Support wlr-foreign-toplevel-management and xdg-foreign
- ✅ Simple offset linear mouse acceleration (separate config for normal and relative mouse acceleration)
- ✅ Debug damage visualization (wlroots scene debug option)

### Bugs / Nuisances

- Minecraft, GIMP
   - The following error occasionally occurs if the window is moved during startup
      - (possibly because it's not properly responding to wayland events in that time?)
   - [wayland] Data too big for buffer (X + Y > 4096)<br>
     [wayland] error in client communication (pid Z)
- SDL3/GLFW + Vulkan (AMD) + syncobj
   - Occasional OUT-OF-DATE when resizing at extremely high frame rate (14k+fps). Appears to be a Vulkan WSI bug
      - Currently tested only with separate render thread. Need to test with syncronous rendering and other drivers
- BeamNG + VSync-disabled + wlroots DRM Backend + AMD RADV (testing on 9070 XT)
   - Stuttery presentation but high framerate
   - Stutters go away if
      - Ran in nested compositor (TESTED: nested xwayland-satellite AND gamescope)
      - Ran in standalone Niri with same xwayland-satellite binary (using Smithay isntead of wlroots)
      - Ran with VSync enabled
      - Ran with NVidia GPU (VSync enabled or disabled)
   - Stutters also present in
      - Native Vulkan binary, Proton Vulkan mode, Proton DirectX11 mode
      - DWL with direct XWayland integration
- Steam + wofi drun mode
   - When opened via `wofi --show drun`, Steam window shows, then is shortly closed, then repeats
      - NOTE: If `wofi` is launched without `WAYLAND_SERVER` set (E.g. `env -u WAYLAND_SERVER=0 wofi --show drun`), it searches for a display server manually and opens in the parent compositor (which has a lower socket name)
   - Does not occur when launching via `rofi -show drun`
- Steam client gamma problem
   - Sometimes, after closing a steam game, the steam client's gamma is messed up.
   - Closing and reopening the Steam window does not fix it, the entire processh as to be completely restarted
- Steam client popups appearing in other XWayland windows
   - When steam and xeyes are open, can observe Steam top menu popups showing in xeyes (even when xeyes is in a completely different part of the screen)
- Occasionally a unexpected scene_tree_node with data pointing back to an existing Toplevel is created
- Discord opening in Wayland mode has several issues:
   - Sometimes produces massive amounts of nested JSON and may run out of memory on startup
   - If launches successully size of window is 0,0 and does not select preferred geometry
      - Closing and re-opening from system tray fixes this
      - When launching in X11 mode, first commit also has invalid (0, 0) geometry
- Steam popups sometimes appear in wrong location on screen
- swaync takes whole screen for mouse interactivity, resulting in clicking on window outside of notification center not always pulling focus as would be expected

### Additional

- Support key repeat for bindings (e.g. volume up/down)
- Focus follows mouse?
   - Perhaps a mode that defers to key presses, E.g. focus only follows mouse when no keys are pressed
- Pseudo-fullscreen mode
   - Per-window mode to spoof permenant fullscreen state/size
      - Particularly useful for games that misbehave when resized
- Improved input and modfiier handling
   - ✅ Set default numlock state
   - Mask main modifier(s) from clients?
   - Mask all key/button inputs from clients when main modifier is down?
   - Support non-modifier keys as modifiers (E.g. mouse side buttons)
   - Custom mouse acceleration curves
   - Additional capabilities
      - Key/button remapping?
      - Joystick remapping?
- Improve logging
   - Manage spawned process standard output
      - Spawn option to either ignore, log, or pipe to separate file
   - Track log message origins
   - Use standard logging format with available log view/analysis tooling?
- Surface positions should remain fixed relative to output position when resizing other outputs
- Use updated protocol version
   - xdg_shell -> version 7
   - tell clients that all edges are constrained
- Idle protocol
- Improved zone logic
   - Have toplevels remember what zones edges they are constrained to
   - Readjust all toplevel zone constraint on workspace/output configuration change

### Portals

- ✅ File chooser
- ✅ Screencast portal
- ✅ Screenshotting
- Application Theming
